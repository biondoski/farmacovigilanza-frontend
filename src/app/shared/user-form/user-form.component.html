<form [formGroup]="userForm" (ngSubmit)="onSubmit()">
  <h2>{{ isEditMode ? 'Modifica Utente' : 'Nuovo Utente' }}</h2>
  <div class="form-group">
    <label for="name">Nome</label>
    <input type="text" id="name" formControlName="name">
  </div>
  <div class="form-group">
    <label for="email">Email</label>
    <input type="email" id="email" formControlName="email">
  </div>
  <div class="form-group" *ngIf="!isEditMode">
    <label for="password">Password</label>
    <input type="password" id="password" formControlName="password">
  </div>
  <div class="form-group">
    <label for="role">Ruolo</label>
    <select id="role" formControlName="role">
      <option value="Operatore">Operatore</option>
      <option value="Analista">Analista</option>
      <option value="Admin">Admin</option>
    </select>
  </div>
  <div class="form-actions">
    <button type="submit" [disabled]="userForm.invalid || isLoading" class="btn-primary">
      {{ isLoading ? 'Salvataggio...' : (isEditMode ? 'Salva Modifiche' : 'Crea Utente') }}
    </button>
    <button type="button" (click)="close()" class="btn-secondary">Annulla</button>
  </div>
</form>
